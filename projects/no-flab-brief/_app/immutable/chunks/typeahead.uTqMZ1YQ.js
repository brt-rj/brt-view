import{n as T,l as C,m as L,p as f,w as P,q as M}from"./VennDiagram.svelte_svelte_type_style_lang.CwPRgnkB.js";import{w as E}from"./entry.D-2obcqQ.js";import{O as $}from"./scheduler.BG5c2XtZ.js";function z(t){t.setAttribute("data-highlighted","")}function G(t){t.removeAttribute("data-highlighted")}function O(t,e=500){let n=null;return function(...o){const r=()=>{n=null,t(...o)};n&&clearTimeout(n),n=setTimeout(r,e)}}const w=()=>typeof window<"u";function F(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const S=t=>w()&&t.test(F().toLowerCase()),R=()=>w()&&!!navigator.maxTouchPoints,W=()=>S(/^mac/)&&!R(),k=()=>S(/mac|iphone|ipad|ipod/i),D=()=>k()&&!W(),x="data-melt-scroll-lock";function I(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function _(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function H(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Y(t){const e=document,n=e.defaultView??window,{documentElement:o,body:r}=e;if(r.hasAttribute(x))return T;r.setAttribute(x,"");const d=n.innerWidth-o.clientWidth,l=()=>_(o,"--scrollbar-width",`${d}px`),c=H(o),u=n.getComputedStyle(r)[c],y=()=>I(r,{overflow:"hidden",[c]:`calc(${u} + ${d}px)`}),h=()=>{const{scrollX:a,scrollY:b,visualViewport:i}=n,s=(i==null?void 0:i.offsetLeft)??0,A=(i==null?void 0:i.offsetTop)??0,g=I(r,{position:"fixed",overflow:"hidden",top:`${-(b-Math.floor(A))}px`,left:`${-(a-Math.floor(s))}px`,right:"0",[c]:`calc(${u} + ${d}px)`});return()=>{g==null||g(),n.scrollTo(a,b)}},m=[l(),D()?h():y()];return()=>{m.forEach(a=>a==null?void 0:a()),r.removeAttribute(x)}}function N(t){C&&L(1).then(()=>{const e=document.activeElement;!f(e)||e===t||(e.tabIndex=-1,t&&(t.tabIndex=0,t.focus()))})}function v(){return Array.from(document.querySelectorAll('a[href]:not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])'))}function J(t){const e=v(),o=e.indexOf(t)+1,r=e[o];return o<e.length&&f(r)?r:null}function Q(t){const e=v(),o=e.indexOf(t)-1,r=e[o];return o>=0&&f(r)?r:null}const X=new Set(["Shift","Control","Alt","Meta","CapsLock","NumLock"]),j={onMatch:N,getCurrentItem:()=>document.activeElement};function U(t={}){const e={...j,...t},n=P(E([])),o=O(()=>{n.update(()=>[])});return{typed:n,resetTyped:o,handleTypeaheadSearch:(p,d)=>{if(X.has(p))return;const l=e.getCurrentItem(),c=$(n);if(!Array.isArray(c))return;c.push(p.toLowerCase()),n.set(c);const u=d.filter(s=>!(s.getAttribute("disabled")==="true"||s.getAttribute("aria-disabled")==="true"||s.hasAttribute("data-disabled"))),h=c.length>1&&c.every(s=>s===c[0])?c[0]:c.join(""),m=f(l)?u.indexOf(l):-1;let a=M(u,Math.max(m,0));h.length===1&&(a=a.filter(s=>s!==l));const i=a.find(s=>(s==null?void 0:s.innerText)&&s.innerText.toLowerCase().startsWith(h.toLowerCase()));f(i)&&i!==l&&e.onMatch(i),o()}}}export{z as a,Y as b,U as c,Q as d,J as g,N as h,G as r};
